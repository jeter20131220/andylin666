<!DOCTYPE html>

<html lang="zh-tw">
<head>
    
    
    <title>Andys Notes | å®Œæ•´ Stable Diffusion æ•™å­¸ï¼šå¾ Colab åˆ°æœ¬åœ°ç«¯ï¼Œå¿«é€Ÿä¸Šæ‰‹ Web UI ç”Ÿæˆç²¾ç¾åœ–åƒ</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href='/favicon/apple-touch-icon.png'>
    <link rel="icon" type="image/png" sizes="32x32" href='/favicon/favicon-32x32.png'>
    <link rel="icon" type="image/png" sizes="16x16" href='/favicon/favicon-16x16.png'>
    
    
    <link rel="shortcut icon" type="image/x-icon" sizes="64x64" href='/favicon/favicon.png' />
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Andys Notes | å®Œæ•´ Stable Diffusion æ•™å­¸ï¼šå¾ Colab åˆ°æœ¬åœ°ç«¯ï¼Œå¿«é€Ÿä¸Šæ‰‹ Web UI ç”Ÿæˆç²¾ç¾åœ–åƒ" />
    
    
    
    <link rel="stylesheet" href="/css/style.min.85bc548bd9a6d06929e44b92bd8aa204988eb9c13691500364ef051c77ce61b6.css" />
    
    <link href=' /css/blonde.min.css' rel="stylesheet" type="text/css" media="print"
        onload="this.media=' all'">
    



<meta name="description" content="æœ¬ç¯‡æ•™å­¸å°‡æŒ‡å°ä½ å¦‚ä½•åœ¨ Google Colab å’Œæœ¬åœ°ç«¯å®‰è£ Stable Diffusion Web UIï¼Œè¼•é¬†è¨­ç½®ä¸¦é‹è¡Œ AI åœ–åƒç”Ÿæˆï¼Œå¿«é€Ÿå‰µä½œé«˜è³ªé‡æ•¸ä½è—è¡“ä½œå“ã€‚">
<meta property="og:site_name" content="Andys Notes">
<meta property="og:description" content="æœ¬ç¯‡æ•™å­¸å°‡æŒ‡å°ä½ å¦‚ä½•åœ¨ Google Colab å’Œæœ¬åœ°ç«¯å®‰è£ Stable Diffusion Web UIï¼Œè¼•é¬†è¨­ç½®ä¸¦é‹è¡Œ AI åœ–åƒç”Ÿæˆï¼Œå¿«é€Ÿå‰µä½œé«˜è³ªé‡æ•¸ä½è—è¡“ä½œå“ã€‚">
<meta property="og:url" content="https://www.andylin666.com/stable-diffusion/">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="">

<link rel="canonical" href="https://www.andylin666.com/stable-diffusion/">

<meta name="twitter:description" content="æœ¬ç¯‡æ•™å­¸å°‡æŒ‡å°ä½ å¦‚ä½•åœ¨ Google Colab å’Œæœ¬åœ°ç«¯å®‰è£ Stable Diffusion Web UIï¼Œè¼•é¬†è¨­ç½®ä¸¦é‹è¡Œ AI åœ–åƒç”Ÿæˆï¼Œå¿«é€Ÿå‰µä½œé«˜è³ªé‡æ•¸ä½è—è¡“ä½œå“ã€‚">
<meta property="article:published_time" content="2024-12-03T00:00:00&#43;00:00">
<meta property="article:updated_time" content="2024-12-03T00:00:00&#43;00:00">





    
<meta property="og:image" content="https://www.andylin666.com/img/stable-diffusion-cover.webp">
<meta property="og:image:url" content="https://www.andylin666.com/img/stable-diffusion-cover.webp">
    

    
    <link rel="stylesheet" href='/css/custom.css'>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/vs2015.min.css" rel="stylesheet">

    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <script>hljs.highlightAll();</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z7GL3FWMNX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-Z7GL3FWMNX');
    </script>
    <i class="dark hidden"></i>
    <a href="" target="_blank"></a>
</head><body class="font-sans">
    <div class="min-h-screen flex flex-col bg-gray-100 dark:bg-warmgray-800"><div class="bg-gray-800">
    <div class="container max-w-screen-xl mr-auto ml-auto">
        <nav class="flex items-center justify-between flex-wrap bg-gray-800 p-6">
            <div class="flex items-center flex-no-shrink bg-gray-800 text-white mr-6">
                <a href="https://www.andylin666.com/"><span class="font-semibold text-2xl tracking-tight">Andys Notes</span></a>
            </div>
            <div class="flex md:hidden">
                <div class="py-2">
                    
                </div>
                <button id="hamburgerbtn" style="display: none;"
                    class="flex items-center px-3 py-1 text-white hover:opacity-50" aria-label="Hamburger Button">
                    <span class="icon-menu text-2xl"></span>
                </button>
            </div>
            <div class="hidden w-full md:flex md:flex-row sm:items-center md:w-auto" id="mobileMenu">
                <div class="text-sm lg:flex-grow">
                </div>
                <div class="navmenu">
                    
                    <a href="/"
                        class="no-underline duration-200 block mt-4 sm:inline-block sm:mt-0 text-white hover:opacity-50 mr-4">
                        Home
                    </a>
                    
                </div>
                <div class="text-white invisible md:visible">
                    
                    
                </div>
            </div>
        </nav>
    </div>
</div>
<style>
    .active {
        display: block;
    }
</style>

<script>
    let hamburger = document.getElementById('hamburgerbtn');

    let mobileMenu = document.getElementById('mobileMenu');

    hamburger.addEventListener('click', function () {
        mobileMenu.classList.toggle('active');
    });
</script><div class="container max-w-screen-xl mx-auto mt-4 flex-grow px-5 lg:px-0" id="content">
            <div class="lg:mx-5">
<div class="grid grid-cols-3 gap-4">
  
  <div class="col-span-3 lg:col-span-2 dark:text-white">
    
      <div class="bg-white dark:bg-warmgray-900 p-5 mb-4">
        <h1 class="mb-2 text-4xl font-bold">å®Œæ•´ Stable Diffusion æ•™å­¸ï¼šå¾ Colab åˆ°æœ¬åœ°ç«¯ï¼Œå¿«é€Ÿä¸Šæ‰‹ Web UI ç”Ÿæˆç²¾ç¾åœ–åƒ</h1>
        <aside id="meta">
          <div>
            <section>
              
            </section>
            
            <div id="tags">
              <span class="icon-local_offer mr-1"></span>
              
              <a href='https://www.andylin666.com/tags/stable-diffusion'>stable-diffusion</a> |
              
            </div>
            
          </div>
        </aside>
        
        <img class="py-4" src="https://www.andylin666.com/img/stable-diffusion-cover.webp">
        
        
        <aside>
        </aside>
        <div class="prose md:prose-lg lg:prose-xl max-w-none dark:prose-invert mt-5">
          <p></p>
          <div class="tableofcontent">
            <div class="tableofcontent-container">
              <p class="toc-title">ç›®éŒ„</p>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#stable-diffusion-ç°¡ä»‹">Stable Diffusion ç°¡ä»‹ï¼š</a></li>
    <li><a href="#æœ¬åœ°ç«¯éƒ¨ç½²stable-diffusion-webui">æœ¬åœ°ç«¯éƒ¨ç½²Stable Diffusion WebUI</a></li>
    <li><a href="#colab-éƒ¨ç½²stable-diffusion-webui">Colab éƒ¨ç½²Stable Diffusion WebUI</a>
      <ul>
        <li><a href="#step1è¨­å®š-google-colab-ç’°å¢ƒ">Step1ï¼šè¨­å®š Google Colab ç’°å¢ƒ</a></li>
        <li><a href="#step2å®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …">Step2ï¼šå®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
          </div>

          <h2 id="stable-diffusion-ç°¡ä»‹">Stable Diffusion ç°¡ä»‹ï¼š</h2>
<p>Stable Diffusionï¼ˆç©©å®šæ“´æ•£ï¼‰æ˜¯ä¸€ç¨®åŸºæ–¼æ“´æ•£æ¨¡å‹çš„ç”ŸæˆæŠ€è¡“ï¼Œæ–¼2022å¹´ç”±å¾·åœ‹CompVisèˆ‡Stability AIã€Runwayè¯æ‰‹æ¨å‡ºã€‚é€™æ¬¾æ¨¡å‹å°ˆç‚ºæ ¹æ“šæ–‡å­—æè¿°ç”Ÿæˆç²¾ç¾åœ–åƒè€Œè¨­è¨ˆã€‚</p>
<p>ç‚ºäº†ç°¡åŒ–ä½¿ç”¨éç¨‹ï¼ŒAUTOMATIC1111é–‹ç™¼äº†Stable Diffusion WebUIï¼ˆSD WebUIï¼‰åœ–å½¢åŒ–ç•Œé¢ï¼Œè®“ç”¨æˆ¶å¯ä»¥è¼•é¬†åœ°å‰µå»ºå’Œä¿®æ”¹åœ–ç‰‡ã€‚åªéœ€æä¾›æ–‡å­—æç¤ºï¼ŒAIä¾¿èƒ½æ ¹æ“šæè¿°ç”Ÿæˆç›¸æ‡‰çš„åœ–åƒï¼Œä¸¦æ”¯æŒæ¨¡ä»¿ç¾æœ‰é¢¨æ ¼æˆ–é€²è¡Œåœ–åƒä¿®å¾©ã€‚</p>
<p>æ­¤å¤–ï¼Œè©²å·¥å…·é‚„å…è¨±ç”¨æˆ¶è¨“ç·´è‡ªå®šç¾©æ¨¡å‹ï¼Œä»¥æ›´ç²¾ç¢ºåœ°ç”¢å‡ºæƒ³è¦çš„çµæœã€‚</p>
<h2 id="æœ¬åœ°ç«¯éƒ¨ç½²stable-diffusion-webui">æœ¬åœ°ç«¯éƒ¨ç½²Stable Diffusion WebUI</h2>
<p>æˆ‘çš„é›»è…¦è¦æ ¼ï¼š</p>
<ul>
<li>ç³»çµ±ï¼šmacOSMonterey</li>
<li>GPUï¼šApple M1
<ul>
<li>VRAMï¼šå…±äº«ç³»çµ±ï¼ˆæœ€å¤§16GBï¼‰</li>
</ul>
</li>
<li>RAMï¼š16GB (CPUå’ŒGPUå…±äº«)</li>
</ul>
<p>è¦å…ˆè£python3.10ï¼Œå¦‚æœæ²’æœ‰å®‰è£çš„è¦å»è£python3.10ã€‚</p>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
brew install cmake protobuf rust python@3.10 git wget
</code></pre>
</div>
<p><strong>git clone Stable Diffusion WebUI</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui
</code></pre>
</div></p>
<p><strong>å®‰è£stable-diffusion-webui</strong></p>
<pre><code>cd stable-diffusion-webui
</code></pre>
<p>æ‰¾åˆ°ä½ å‰›å‰›gitclone ä¸‹ä¾†çš„ç›®éŒ„ï¼Œç„¶å¾Œè¼¸å…¥<code>./webui.sh</code>ï¼Œç¬¬ä¸€æ¬¡è·‘è¦è·‘æ¯”è¼ƒä¹…ã€‚å¦‚æœæœ‰é‡åˆ°éŒ¯èª¤çš„è©±å†æŠŠéŒ¯èª¤è²¼ä¸Šgoogleï¼Œå»æ…¢æ…¢è§£ã€‚</p>
<p><strong>ä¸‹è¼‰Model</strong></p>
<p>å¦‚æœåœ¨å®‰è£AUTOMATIC1111ï¼Œç™¼ç¾ä½ é›»è…¦æ²’æœ‰ä»»ä½•ç¹ªåœ–æ¨¡å‹ï¼Œç³»çµ±æœƒè‡ªå‹•å®‰è£1-5-pruned-emaonly.safetensorsï¼Œé€™é‚Šå¦‚æœè¦æ›´æ›å…¶ä»–æ¨¡å‹ï¼Œå¯ä»¥å» Hugging Faceä¸‹è¼‰ã€‚</p>
<ul>
<li><a target="_blank" href="https://huggingface.co/">Hugging Face</a></li>
</ul>
<p>è¼‰å®Œä¹‹å¾ŒæŠŠ.<strong>ckpt</strong>æˆ–æ˜¯.<strong>safetensors</strong>æ”¾åˆ°stable-diffusion-webui/models/Stable-diffusionï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<p>é€™é‚Šè£œå……ä¸€ä¸‹Stable-diffusionæœ‰å¹¾å€‹æ¯”è¼ƒé‡è¦çš„è³‡æ–™å¤¾</p>
<ul>
<li><strong>extensionsï¼š</strong> ç”¨ä¾†æ“´å±• Web UI åŠŸèƒ½çš„æ’ä»¶ã€‚</li>
<li><strong>models/stable-diffusionï¼š</strong> å­˜æ”¾ Stable Diffusion åŸºæœ¬æ¨¡å‹æ–‡ä»¶ã€‚</li>
<li><strong>outputsï¼š</strong> å­˜æ”¾ç”Ÿæˆçš„åœ–åƒå’Œå…¶ä»–è¼¸å‡ºè³‡æ–™ã€‚</li>
</ul>
<p>å®‰è£å®Œæˆå¾Œï¼Œä¹Ÿå°‡modelsæ”¾åˆ°æŒ‡å®šç›®éŒ„ä¹‹å¾Œï¼Œå°±å¯ä»¥é–‹å§‹ç®—åœ–äº†ï¼Œé€™é‚Šå…ˆæ˜¯ç®—ä¸€å¼µåœ–ã€‚</p>
<p><img src="/img/blog/automatic1111.webp" alt="AUTOMATIC1111"></p>
<p>ç”±æ–¼æˆ‘çš„é›»è…¦è¦æ ¼å¯¦åœ¨æ˜¯å¤ªå·®äº†ï¼Œæˆ‘ç®—äº†å¥½å¹¾å¼µå¤±æ•—å“ï¼Œå¥½å¹¾æ¬¡éƒ½è·‘åˆ°æˆ‘çš„mac m1 ç›´æ¥é—œæ©Ÿï¼Œå› ç‚ºmac m1 gpuè·Ÿcpuæ˜¯å…±ç”¨è¨˜æ†¶é«”ï¼Œæ‰€ä»¥VRAMéå¸¸ä¸å¤ ï¼Œæˆ‘å‰›è·‘å¹¾å¼µå°±é¡¯ç¤ºè¨˜æ†¶é«”å·²æ»¿ï¼Œè€Œä¸”å¹¾ä¹é«˜è§£æåº¦éƒ½è¦è·‘10åˆ†é˜ä»¥ä¸Šã€‚é€™é‚Šæ”¾ä¸Šå¤±æ•—å“ï¼Œé€™é‚„æ˜¯è·‘äº†10å¤šåˆ†é˜çš„çµæœ- -</p>
<p><img src="/img/blog/low.webp" alt="low"></p>
<p>å¦‚æœæ¢ä»¶å…è¨±çš„è©±ï¼Œæœ€å¥½é‚„æ˜¯å»è²·ä¸€å¼µ12GB VRAMä»¥ä¸Šçš„Nvidia GPUã€‚ä¸éä¹Ÿæ˜¯æœ‰æ›¿ä»£æ–¹æ¡ˆï¼Œå°±æ˜¯ä½¿ç”¨ç·šä¸Šæœå‹™ã€‚</p>
<!-- çœ‹åˆ°é€™å¹¾å¼µåœ–ï¼Œæˆ‘çš„çœ¼æ·šçœŸçš„æ˜¯å¿«æµå‡ºä¾†äº†ï¼Œå¾ä¸€é€±å‰é–‹å§‹è·‘stable-diffusionçµ‚æ–¼æœ‰ä¸€å¼µåƒæ¨£çš„åœ–äº†ğŸ˜­ï¼Œå¥½å¹¾æ¬¡æˆ‘çš„mac m1 éƒ½ç›´æ¥è·‘åˆ°é—œæ©Ÿã€‚

ä¸ç„¶æˆ‘ä¹‹å‰çš„åœ–ä¸æ˜¯é•·é€™æ¨£....

å°±æ˜¯é€™æ¨£.....

å¹¾ä¹æ²’æœ‰ä¸€å€‹äººæ¨£ï¼Œé€™è£¡æˆ‘ä¹Ÿæƒ³çœ‹å¤§å®¶ç®—å‡ºä¾†çš„å¤±æ•—å“ï¼Œé€™æ¨£æ¯”è¼ƒä¸å­¤å–®ï¼Œæˆ‘åœ¨ç¶²è·¯ä¸Šçœ‹éå¾ˆå¤šæ¼‚äº®çš„åšä½œå“ï¼Œä½†æ˜¯æ²’çœ‹éæ»¿æ»¿çš„å¤±æ•—å“ï¼Œæˆ‘é–‹æ”¾ä¸€å€‹ç©ºé–“è®“å¤§å®¶ä¸Šå‚³æ¯€å®¹çš„åœ–æ­¡è¿åˆ†äº«ã€‚ -->
<h2 id="colab-éƒ¨ç½²stable-diffusion-webui">Colab éƒ¨ç½²Stable Diffusion WebUI</h2>
<p>Google Colab å°±æä¾›äº†å¾ˆå¤šé‹ç®—è³‡æºå³ä½¿æ˜¯å…è²»ç‰ˆçš„ä¹Ÿæœ‰ Tesla K80 æˆ– T4 GPUï¼Œ</p>
<p>å¦‚ä½•æŸ¥çœ‹google colab gpuç”¨é‡</p>
<p>é€™é‚ŠæŠŠéƒ¨ç½²å·¥ä½œæ­¥é©Ÿå¿«é€Ÿå¸¶éï¼Œä»¥ä¸‹ä»£ç¢¼åªæœ‰å®‰è£åŸºæœ¬æ¬¾ï¼Œå¦‚æœéœ€è¦å…¶ä»–çš„æ“´å±•åŠŸèƒ½éœ€è¦é¡å¤–å®‰è£ï¼Œå¾€å¾Œçš„æ–‡ç« æˆ‘ä¹Ÿæœƒæ¨è–¦æ“´å±•åŠŸèƒ½ã€‚</p>
<h3 id="step1è¨­å®š-google-colab-ç’°å¢ƒ">Step1ï¼šè¨­å®š Google Colab ç’°å¢ƒ</h3>
<ul>
<li>é–‹å•Ÿ Google Colabï¼šé€ è¨ª Google Colab ç¶²ç«™ä¸¦å»ºç«‹ä¸€å€‹æ–°çš„ç­†è¨˜æœ¬ã€‚</li>
<li>å•Ÿç”¨GPU:é»æ“Š&quot;åŸ·è¡Œéšæ®µ&quot;&gt;è®Šæ›´åŸ·è¡Œéšæ®µé¡å‹&gt;é¸æ“‡T4 GPU ï¼Œç„¶å¾Œé»æ“Šä¿å­˜ã€‚</li>
</ul>
<!-- å‚™è¨»ï¼š(è£œå……ä¸€ä¸‹NVIDIA Tesla T4 GPU) -->
<h3 id="step2å®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …">Step2ï¼šå®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …</h3>
<p><strong>æ›è¼‰ Google Drive</strong> :
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs python">
from google.colab import drive 
drive.mount('/content/drive')
</code></pre>
</div></p>
<p>é€™ä¸»è¦æ˜¯åŠ è¼‰ä½ çš„é›²ç«¯è³‡æ–™å¤¾ï¼Œå°‡ç­‰ç­‰éœ€è¦å®‰è£çš„ç¨‹å¼éƒ½å­˜åˆ°google é›²ç«¯ç¡¬ç¢Ÿä¸Šã€‚</p>
<p><strong>å»ºç«‹ä¸€å€‹è³‡æ–™å¤¾ä¾†å„²å­˜ Stable Diffusion WebUI æ–‡ä»¶ï¼š</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!mkdir /content/drive/MyDrive/sd-webui-files
</code></pre>
</div></p>
<p><strong>å®‰è£… PyTorchã€torchvision å’Œ torchaudioï¼š</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!pip install -q torch==2.0.1+cu118 torchvision==0.15.2+cu118 torchaudio==2.0.2+cu118 torchtext==0.15.2 torchdata==0.6.1 --extra-index-url https://download.pytorch.org/whl/cu118 -U
</code></pre>
</div></p>
<p><strong>å®‰è£… xformers å’Œ tritonï¼š</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!pip install -q xformers==0.0.20 triton==2.0.0 gradio_client==0.2.7 -U
</code></pre>
</div></p>
<p><strong>Clone Stable Diffusion WebUIï¼š</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!git clone --depth=1 https://github.com/AUTOMATIC1111/stable-diffusion-webui.git /content/drive/MyDrive/sd-webui-files/stable-diffusion-webui
</code></pre>
</div></p>
<p><strong>ä¸‹è¼‰ Stable Diffusion æ¨¡å‹</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!wget -nc -P /content/drive/MyDrive/sd-webui-files/stable-diffusion-webui/models/Stable-diffusion https://huggingface.co/andite/anything-v4.0/resolve/main/anything-v4.5-pruned.safetensors
</code></pre>
</div></p>
<ul>
<li>!wget: ä½¿ç”¨ wget å·¥å…·ä¸‹è¼‰æª”æ¡ˆã€‚</li>
<li>-nc: å¦‚æœæª”æ¡ˆå·²å­˜åœ¨ï¼Œå‰‡ä¸è¦é‡æ–°ä¸‹è¼‰ã€‚</li>
<li>-P: æŒ‡å®šä¸‹è¼‰æª”æ¡ˆçš„å„²å­˜è·¯å¾‘ã€‚</li>
</ul>
<p>ä¸‹è¼‰æ¨¡å‹é€™é‚Šéœ€è¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼Œç¾åœ¨çš„Huggingface ä¼¼ä¹éœ€è¦æ‹¿åˆ°Hugging Face Tokenï¼Œæ‰€ä»¥é€™é‚Šéœ€è¦ç™»å…¥huggingfaceã€‚</p>
<ul>
<li><a target="_blank" href="https://huggingface.co/">Hugging Face</a></li>
</ul>
<p>å¦‚æœæ²’æœ‰å¸³è™Ÿå‰‡éœ€è¦è¨»å†Šä¸€çµ„é»é¸&quot;Sign Up&quot;ï¼Œæœ‰çš„è©±é»é¸&quot;Log In&quot;ã€‚</p>
<p><img src="/img/blog/hugginghacetoken5.webp" alt="Hugging Face Token"></p>
<p>ç™»å…¥å®Œå¾Œæœƒçœ‹åˆ°é€™å€‹ç•«é¢ï¼Œç„¶å¾Œé»é¸&quot;å³ä¸Šè§’é ­åƒ&quot;ï¼Œæ¥è‘—é»é¸&quot;Access Tokens&quot;
<img src="/img/blog/hugginghacetoken1.webp" alt="Hugging Face Token"></p>
<p>çœ‹åˆ°é€™å€‹ç•«é¢å¾Œé»é¸&quot;Create New token&quot;</p>
<p><img src="/img/blog/hugginghacetoken2.webp" alt="Hugging Face Token"></p>
<p>è¼¸å…¥&quot;Token name&quot;å¾Œï¼Œæ»‘åˆ°æœ€ä¸‹é¢é»é¸&quot;Create token&quot;
<img src="/img/blog/hugginghacetoken4.webp" alt="Hugging Face Token"></p>
<p>å°±æœƒå¾—åˆ°é€™å€‹ç•«é¢ï¼Œä¸€å®šè¦è¤‡è£½ä¿å­˜èµ·ä¾†ï¼Œé€™æ˜¯ä¸€æ¬¡æ€§çš„è¦–çª—ï¼Œé—œæ‰å°±æ²’äº†ã€‚</p>
<p><img src="/img/blog/huggingfacetoken6.webp" alt="Hugging Face Token"></p>
<p>æ‹¿åˆ°Hugging Face Tokenï¼Œæ‡‰è©²æ˜¯hf_xxxxxxxxxé–‹é ­ï¼Œæ‹¿åˆ°ä¹‹å¾Œå°‡Tokenå¸¶å…¥ä½ çš„wgetçš„æŒ‡ä»¤ç•¶ä¸­çš„headerã€‚</p>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!wget --header="Authorization: Bearer hf_xxxxxxxx" -P "/content/drive/MyDrive/sd-webui-files/stable-diffusion-webui/models/Stable-diffusion" "https://huggingface.co/andite/anything-v4.0/resolve/main/anything-v4.5-pruned.safetensors"
</code></pre>
</div>
<ul>
<li><strong>!wget</strong>:æ˜¯ä¸€å€‹å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨ä¾†å¾ç¶²çµ¡ä¸‹è¼‰æ–‡ä»¶ã€‚</li>
<li><strong>-P</strong>:æŒ‡å®šä¸‹è¼‰ç›®éŒ„</li>
<li><a href="https://huggingface.co/andite/anything-v4.0/resolve/main/anything-v4.5-pruned.safetensors">https://huggingface.co/andite/anything-v4.0/resolve/main/anything-v4.5-pruned.safetensors</a>
<ul>
<li>æŒ‡åè¦ä¸‹è¼‰çš„URLï¼Œé€™è£¡çµ¦çš„å°±æ˜¯ Hugging Face models çš„ä¸‹è¼‰é€£çµ</li>
</ul>
</li>
</ul>
<p><strong>å¦‚ä½•ç²å–Hugging Face Models ä¸‹è¼‰é€£çµ</strong></p>
<p>ä¸€æ¨£è¦å»åˆ°Hugging Faceå¾Œå…ˆç™»å…¥ï¼Œçœ‹åˆ°é€™å€‹ç•«é¢å¾Œåœ¨ä¸Šæ–¹æœå°‹ä½ è¦çš„Modelsã€‚æˆ‘é€™é‚Šæ˜¯æœå°‹anything-v4.0ï¼Œä¹Ÿå¯ä»¥è©¦è©¦çœ‹
stable-diffusion-xl-base-1.0ã€stable-diffusion-v1-5ã€‚</p>
<p>ä¸éè¦æ³¨æ„çš„æ˜¯ä¸¦ä¸æ˜¯æ¯å€‹Modelséƒ½æ”¯æ´ stable-diffusion Web UI åƒæ˜¯FLUXå°±ä¸è¡Œã€‚æœé›²åˆ°ä¹‹å¾Œé»æœ‰ <strong>&ldquo;Model&rdquo;</strong> é€™å€‹é¸é …çš„ã€‚</p>
<p><img src="/img/blog/download-model1.webp" alt="download-model"></p>
<p>é»é€²å»ä¹‹å¾Œé»é¸ <strong>&ldquo;Flies and versions&rdquo;</strong></p>
<p><img src="/img/blog/download-model2.webp" alt="download-model"></p>
<p>ä¹‹å¾Œå¾€ä¸‹æ»‘ï¼Œä¸€ç›´åˆ°æ‰¾åˆ° <strong>.safetensors</strong> é€™å€‹çµå°¾çš„-&gt;é»é€²å»ã€‚</p>
<p><img src="/img/blog/download-model5.webp" alt="download-model"></p>
<p>é»é€²å»æœƒçœ‹åˆ°é€™å€‹ç•«é¢ï¼Œé»é¸ <strong>&ldquo;Copy download link&rdquo;</strong>ï¼Œç„¶å¾Œå°‡é€™å€‹è¤‡è£½åˆ°çš„é€£çµè²¼åœ¨ä½ çš„æŒ‡ä»¤å¾Œé¢ã€‚</p>
<p><img src="/img/blog/download-model4.webp" alt="download-model"></p>
<p>å¹¾ä¹æ‰€æœ‰æœ‰åœ¨Hugging Face Modelsï¼Œéƒ½å¯ä»¥é€™æ¨£ä½¿ç”¨ï¼ŒHugging Faceä¸Šçš„æ¨¡å‹è¶…ç´šå¤šï¼ŒText-to-imgã€img-to-textã€Text-to-Videoã€Question Answering
ï¼Œå¹¾ä¹ä½ æƒ³å¾—åˆ°çš„AIçš„Models Hugging Faceéƒ½æœ‰ï¼Œä¹‹å¾Œæˆ‘ä¹Ÿæœƒå°ˆé–€å¯«ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹  Hugging Faceã€‚</p>
<p><strong>å•Ÿå‹• Stable Diffusion WebUI</strong>
<div class="code-block">
    <button class="copy-btn">Copy</button>
    <pre class="code-container"><code class="hljs bash">
!python launch.py --share --xformers --enable-insecure-extension-access --theme light
</code></pre>
</div></p>
<ul>
<li>
<p><strong>!python launch.pyâ€‹â€‹:</strong></p>
<ul>
<li>!ï¼šç”¨æ–¼åŸ·è¡Œ shell æŒ‡ä»¤ã€‚</li>
<li>python launch.pyâ€‹â€‹ï¼šé€™éƒ¨åˆ†éŒ¶ç¤ºä½¿ç”¨ Python è§£é‡‹å™¨åŸ·è¡Œåç‚º launch.pyâ€‹â€‹ çš„è…³æœ¬ã€‚ launch.pyæ˜¯ Stable Diffusion WebUI çš„å•Ÿå‹•è…³æœ¬ï¼Œè² è²¬è¼‰å…¥æ¨¡å‹ã€å•Ÿå‹• Web ä¼ºæœå™¨ç­‰æ“ä½œã€‚</li>
</ul>
</li>
<li>
<p><strong>&ndash;share:</strong></p>
<ul>
<li>é€™å€‹åƒæ•¸æœƒä½¿ Gradio è‡ªå‹•ç”¢ç”Ÿä¸€å€‹å…¬å…±éˆæ¥ï¼Œä½ å¯ä»¥é€éé€™å€‹é€£çµåœ¨ç€è¦½å™¨ä¸­å­˜å– Stable Diffusion WebUIã€‚</li>
</ul>
</li>
<li>
<p><strong>&ndash;xformers:</strong></p>
<ul>
<li>é€™å€‹åƒæ•¸å•Ÿç”¨ xformers å‡½å¼åº«ï¼Œé€™æ˜¯ä¸€å€‹ç”¨ä¾†åŠ é€Ÿ Stable Diffusion æ¨ç†éç¨‹çš„å‡½å¼åº«ã€‚ä½¿ç”¨ xformers å¯ä»¥é¡¯è‘—æé«˜ç”Ÿæˆå½±åƒçš„é€Ÿåº¦å’Œæ•ˆç‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>&ndash;enable-insecure-extension-access:</strong></p>
<ul>
<li>å…è¨±åŠ è¼‰æˆ–ä½¿ç”¨ç³»çµ±å…§éƒ¨æ¨™è¨˜ç‚ºã€Œä¸å®‰å…¨ã€çš„æ“´å±•æˆ–æ’ä»¶ã€‚å› ç‚º Colab æ˜¯ä¸€å€‹å…±äº«çš„é›²ç«¯ç’°å¢ƒï¼Œé€™å€‹åƒæ•¸å¯ä»¥ç”¨ä¾†å…è¨±æŸäº›æ“´å±•åŠŸèƒ½çš„åŠ è¼‰ï¼Œç‰¹åˆ¥æ˜¯ Stable Diffusion Web UI ã€‚</li>
</ul>
</li>
<li>
<p><strong>&ndash;theme light:</strong></p>
<ul>
<li>é€™å€‹åƒæ•¸è¨­å®š WebUI çš„ä¸»é¡Œç‚ºæ·ºè‰²ä¸»é¡Œã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ &ndash;theme dark ä¾†è¨­å®šæ·±è‰²ä¸»é¡Œã€‚</li>
</ul>
</li>
</ul>
<p><strong>å®Œæ•´ç‰ˆç¨‹å¼</strong></p>
<p>åªæœ‰ç¬¬ä¸€æ¬¡è¦è¼¸å…¥é€™éº¼å¤šæŒ‡ä»¤ï¼Œå› ç‚ºéœ€è¦ä¸‹è¼‰æ¨¡å‹ã€å‰µç«‹è³‡æ–™å¤¾ã€git clone stable-diffusion-webuiã€‚</p>
<pre><code>from google.colab import drive
drive.mount('/content/drive')
!mkdir /content/drive/MyDrive/sd-webui-files
!pip install torch==1.13.1+cu116 torchvision==0.14.1+cu116 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu116 -U
!pip install -q xformers==0.0.16
!pip install -q triton==2.0.0
!git clone --depth=1 https://github.com/AUTOMATIC1111/stable-diffusion-webui.git /content/drive/MyDrive/sd-webui-files/stable-diffusion-webui
!wget --header=&quot;Authorization: Bearer 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&quot; -P &quot;/content/drive/MyDrive/sd-webui-files/stable-diffusion-webui/models/Stable-diffusion&quot; &quot;https://huggingface.co/andite/anything-v4.0/resolve/main/anything-v4.5-pruned.safetensors&quot;
%cd /content/drive/MyDrive/sd-webui-files/stable-diffusion-webui/
!git reset --hard
!git pull
!sed -i -e 's/checkout {commithash}/checkout --force {commithash}/g' launch.py
!python launch.py --share --xformers --enable-insecure-extension-access --theme light
</code></pre>
<p>å¦‚æœæ²’æœ‰æ„å¤–çš„è©±ï¼ŒStable Diffusion WebUIæ‡‰è©²å°±è·‘èµ·ä¾†äº†ã€‚æœƒå¾Colabé€™è£¡çœ‹åˆ°â€œRunnging on public URLâ€ï¼Œ</p>
<p><img src="/img/blog/sdpubliclink.webp" alt="Stable Diffusion WebUI"></p>
<p>é»é€²å»å°±å¯ä»¥çœ‹åˆ°å°±å¯ä»¥çœ‹åˆ°Stable Diffusion WebUI çš„ç•«é¢äº†ï¼Œé‚£æˆ‘å€‘å°±å˜—è©¦ç®—ä¸€å¼µåœ–å§ï¼
<img src="/img/blog/stable-diffusion-webui.webp" alt="Stable Diffusion WebUI"></p>
<p>ä¸å¾—ä¸èªªGoogle Colanæä¾›çš„gpu nvidia tesla t4çœŸçš„å¾ˆå¼·å¤§ï¼Œå¾ˆå¿«å°±è·‘å®Œäº†ã€‚ç”±æ–¼æˆ‘é€™æ˜¯è·‘çš„æ˜¯anything-v4.5é€™å€‹æ¨¡å‹ï¼Œé€™å€‹æ¨¡å‹æœƒæ¯”è¼ƒåäºŒæ¬¡å…ƒã€‚</p>
<p>å¦‚æœæ˜¯ç¬¬äºŒæ¬¡è·‘çš„è©±å¯ä»¥å°‡ç­†è¨˜æœ¬è£¡é¢çš„ç¨‹å¼ç°¡åŒ–æˆï¼š</p>
<pre><code>from google.colab import drive
drive.mount('/content/drive')

!pip install torch==1.13.1+cu116 torchvision==0.14.1+cu116 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu116 -U
!pip install -q xformers==0.0.16
!pip install -q triton==2.0.0

%cd /content/drive/MyDrive/sd-webui-files/stable-diffusion-webui/

!python launch.py --share --xformers --enable-insecure-extension-access --theme light
</code></pre>
<p>å¦å¤–å¦‚éœ€è¦æŸ¥çœ‹ï¼ŒGPUçš„ä½¿ç”¨æƒ…æ³ï¼ŒåŒ…å«æº«åº¦ã€ä½¿ç”¨ç‡å’Œè¨˜æ†¶é«”å ç”¨ï¼Œä»¥åŠé©…å‹•ç¨‹åºå’Œ CUDA ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚</p>
<p>è¼¸å…¥</p>
<pre><code>nvidia-smi
</code></pre>
<p><img src="/img/blog/nvdia-smi.webp" alt="nvidia-smi"></p>
<p>å¾ŒçºŒæœƒé™¸çºŒæ›´æ–°æç¤ºè©æŠ€å·§ã€åƒæ•¸èªªæ˜ã€ä»¥åŠä¸€äº›å¤–æ›çš„ä½¿ç”¨æ•™å­¸(ControlNet)ã€‚</p>
<p>(æœªå®Œå¾…çºŒ)</p>
<!-- ## æç¤ºè©(prompt)æŠ€å·§å¦‚ä½•å»ºç«‹ä¸€å€‹å¥½çš„æç¤ºè©(prompt) -->
<p>ç›¸é—œåƒè€ƒé€£çµï¼š</p>
<ul>
<li><a target="_blank" href="https://prompthero.com/">prompthero</a></li>
<li><a target="_blank" href="https://stable-diffusion-art.com/prompt-guide/">stable-diffusion-art</a></li>
<li><a target="_blank" href="https://ivonblog.com/posts/stable-diffusion-webui-general-prompt-guide/">Ivonçš„éƒ¨è½æ ¼</a></li>
</ul>
<!-- ## SD1.5 vs SDXL -->
<p>Stable-diffusion web UI  Error
ImportError: cannot import name &lsquo;Undefined&rsquo; from &lsquo;pydantic.fields&rsquo; ImportError: cannot i</p>

        </div>
        
        <aside id="meta">
          
        </aside>
      </div>

      <button id="goTopButton">
        <img class="scrollTop mx-auto" src="/img/upload.png" width="20" height="20" alt="">
      </button>
      
      <div class="bg-white dark:bg-warmgray-900 p-5 my-4">
        <div class="mb-3">
          <div id="disqus_thread"></div>
<script>
    

    

    (function() { 
    var d = document, s = d.createElement('script');
    s.src = 'https://rdnotes-2.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>
    </div>
    
    <div class="hidden lg:block lg:col-span-1">
    
    
    
    <div class="mb-3">
    <form class="widget-search__form" role="search" method="get" action="https://google.com/search">
        <label>
            <input class="w-full p-3 focus:outline-none dark:bg-warmgray-900 dark:text-white placeholder-gray-700 dark:placeholder-gray-300" type="search"
                placeholder="Search..." value="" name="q" aria-label="Search">
        </label>
        <input class="hidden" type="submit" value="Search">
        <input type="hidden" name="sitesearch" value="https://www.andylin666.com/" />
    </form>
</div>
    
    
    
    
    
    
    
    
    
<div class="bg-white panel mb-3 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-3 pl-3 dark:text-gray-300 font-bold">Tags</p>
    <div class="panel-block p-2">
        <a href='/tags/git'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                git
            </span></a>
        <a href='/tags/highlight.js'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                highlight.js
            </span></a>
        <a href='/tags/hugo'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                hugo
            </span></a>
        <a href='/tags/linux'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                linux
            </span></a>
        <a href='/tags/nginx'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                nginx
            </span></a>
        <a href='/tags/ssl'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                ssl
            </span></a>
        <a href='/tags/stable-diffusion'>
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 border-radius justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                stable-diffusion
            </span></a>
    </div>
</div>

    
    
    

<div class="bg-white panel mb-3 pb-5 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-5 dark:text-gray-300 font-bold">Recent Posts</p>
    <div class="mx-6">
        <a href="/stable-diffusion-model/" class="">
            <div
                class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white py-3">æ¢ç´¢ Stable Diffusion WebUI æ¨¡å‹åˆ†é¡ï¼šæ¨è–¦çš„å„é ˜åŸŸ Checkpointèˆ‡LoRA</div>
                    
                </div>
            </div>
        </a>
        <a href="/stable-diffusion/" class="">
            <div
                class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white py-3">å®Œæ•´ Stable Diffusion æ•™å­¸ï¼šå¾ Colab åˆ°æœ¬åœ°ç«¯ï¼Œå¿«é€Ÿä¸Šæ‰‹ Web UI ç”Ÿæˆç²¾ç¾åœ–åƒ</div>
                    
                </div>
            </div>
        </a>
        <a href="/highlightjs/" class="">
            <div
                class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white py-3">Highlight.jsæ•™å­¸ä¸»é¡Œè‡ªå®šç¾©ï¼šç‚ºä½ çš„ç¨‹å¼ç¢¼å€å¡Šé¸æ“‡å’Œå‰µå»ºè‡ªå®šç¾©é…è‰²æ–¹æ¡ˆ</div>
                    
                </div>
            </div>
        </a>
        <a href="/quickly-bind-domain-github-pages/" class="">
            <div
                class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white py-3">[GitHub]å¦‚ä½•å¿«é€Ÿå°‡è‡ªè¨‚åŸŸåç¶å®šåˆ°GitHubPages(é©ç”¨æ–¼å¤šæ•¸åŸŸåè¨»å†Šå•†)</div>
                    
                </div>
            </div>
        </a>
        <a href="/hugo-basic-get-started/" class="">
            <div
                class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white py-3">[hugo]ç°¡å–®æ˜“æ‡‚çš„ Hugo å…¥é–€æ•™å­¸ï¼šå¾å®‰è£åˆ°åŸºæœ¬ä½¿ç”¨ - è¼•é¬†æ‰“é€ å€‹äººç¶²ç«™</div>
                    
                </div>
            </div>
        </a>
    </div>
</div>
    
    
    
    
    <div class="tableofcontent" style="position: sticky; top: 20px;">
        <div id="TableofContentScroll" class="bg-white tableofcontent-container-side dark:bg-warmgray-900 dark:text-white" >
            <div class="mx-6">
                <p id="TableofContentTitle" class="toc-title">ç›®éŒ„</p>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#stable-diffusion-ç°¡ä»‹">Stable Diffusion ç°¡ä»‹ï¼š</a></li>
    <li><a href="#æœ¬åœ°ç«¯éƒ¨ç½²stable-diffusion-webui">æœ¬åœ°ç«¯éƒ¨ç½²Stable Diffusion WebUI</a></li>
    <li><a href="#colab-éƒ¨ç½²stable-diffusion-webui">Colab éƒ¨ç½²Stable Diffusion WebUI</a>
      <ul>
        <li><a href="#step1è¨­å®š-google-colab-ç’°å¢ƒ">Step1ï¼šè¨­å®š Google Colab ç’°å¢ƒ</a></li>
        <li><a href="#step2å®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …">Step2ï¼šå®‰è£å¿…è¦çš„ç¨‹å¼åº«å’Œä¾è³´é …</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
        </div>
    </div>
    
  
</div>
    

  </div>
</div>

            </div>
        </div><footer class="bg-gray-800 text-white p-6">
  
  <div class="container max-w-screen-xl mr-auto ml-auto">
    <p>&copy; 2024 <a href="https://www.andylin666.com/" class="duration-200 hover:opacity-50">Andys Notes</a>
    </p>
    <p>Powered by <a href="https://gohugo.io/" class="duration-200 hover:opacity-50">Hugo</a>, Theme <a
        href="https://github.com/opera7133/Blonde" class="duration-200 hover:opacity-50">Blonde</a>.</p>
  </div>
  
  <script>
    var icon = document.getElementById("icon");
    var icon2 = document.getElementById("icon2");
    
    if (document.documentElement.classList.contains("dark") || localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      icon.classList.remove("icon-moon");
      icon.classList.add("icon-sun");
      icon2.classList.remove("icon-moon");
      icon2.classList.add("icon-sun");
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }
    function toggleDarkMode() {
      if (document.documentElement.classList.contains('dark')) {
        icon.classList.remove("icon-sun");
        icon.classList.add("icon-moon");
        icon2.classList.remove("icon-sun");
        icon2.classList.add("icon-moon");
        document.documentElement.classList.remove('dark')
        localStorage.theme = 'light'
      } else {
        icon.classList.remove("icon-moon");
        icon.classList.add("icon-sun");
        icon2.classList.remove("icon-moon");
        icon2.classList.add("icon-sun");
        document.documentElement.classList.add('dark')
        localStorage.theme = 'dark'
      }
    }
  </script>
</footer></div>
    
    <script src="/js/index.js"></script>
    
</body>

</html>